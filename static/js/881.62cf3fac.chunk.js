"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[881],{881:function(e,t,n){n.r(t),n.d(t,{default:function(){return d}});var r=n(861),i=n(439),u=n(757),c=n.n(u),o=n(791),a=n(87),s=n(689),f="Movies_searchForm__J4-xw",l="Movies_formInput__zmXM8",m="Movies_formButton__DQX-Z",p="Movies_filmsComtainer__9wFvx",v="Movies_filmLink__5Fw5o",h=n(184),d=function(){var e,t=(0,a.lr)(),n=(0,i.Z)(t,2),u=n[0],d=n[1],_=(0,o.useState)(""),x=(0,i.Z)(_,2),w=x[0],y=x[1],k=null!==(e=u.get("query"))&&void 0!==e?e:"",b=(0,s.TH)();return(0,o.useEffect)((function(){if(""!==k){var e="https://api.themoviedb.org/3/search/movie",t="1d813bdf96a00323bd29d62e55126d30";k&&function(){n.apply(this,arguments)}()}function n(){return(n=(0,r.Z)(c().mark((function n(){var r;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat(e,"?api_key=").concat(t,"&query=").concat(k,"&page=1")).then((function(e){return e.json()}));case 2:r=n.sent,y(r.results);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}}),[k]),(0,h.jsxs)("div",{children:[(0,h.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=e.currentTarget;""===t.input.value.trim()?alert("Enter correct query"):d({query:t.input.value}),t.reset()},className:f,children:[(0,h.jsx)("input",{type:"text",name:"input",className:l}),(0,h.jsx)("button",{type:"submit",className:m,children:"Search"})]}),w&&(0,h.jsx)("ul",{className:p,children:w.map((function(e){return(0,h.jsx)("li",{children:(0,h.jsx)(a.rU,{to:"".concat(e.id),state:{from:b},className:v,children:e.title})},e.id)}))})]})}},861:function(e,t,n){function r(e,t,n,r,i,u,c){try{var o=e[u](c),a=o.value}catch(s){return void n(s)}o.done?t(a):Promise.resolve(a).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,u){var c=e.apply(t,n);function o(e){r(c,i,u,o,a,"next",e)}function a(e){r(c,i,u,o,a,"throw",e)}o(void 0)}))}}n.d(t,{Z:function(){return i}})}}]);
//# sourceMappingURL=881.62cf3fac.chunk.js.map